{"version":3,"sources":["containers/Canvas.js","containers/ShapeContainer.js","components/InputField.js","components/SettingsForm.js","components/DoubleInput.js","utils/angleFunctions.js","components/RangeHandlebars.js","utils/arrayFunctions.js","components/RadialControl.js","containers/ObstacleContainer.js","components/ScoreCounter.js","components/ModeSelector.js","components/App.js","utils/randomSpread.js","utils/fragment.js","utils/stageSetup.js","utils/collisions.js","levels/levels.js","reducers/shapeReducer.js","index.js"],"names":["Canvas","handlePlantSeed","_this","props","createRoot","handleCreateShape","createNodes","_this2","this","intId","setInterval","setTimeout","console","log","nodes","clearInterval","stage","zoom","window","innerWidth","innerHeight","styles","position","left","top","width","height","transform","concat","react_default","a","createElement","className","id","style","map","currentShape","i","Fragment","offset","stop-color","cx","coordX","cy","coordY","r","radius","Component","ShapeContainer","connect","state","viewportDims","settings","leaves","dispatch","type","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loopCreatAnimation","timestamp","frame","requestAnimationFrame","toggleAnimation","animating","cancelAnimationFrame","reset","borderRadius","background","color","key","onClick","InputField","_this$props","propName","propLabel","propValue","propMin","propMax","fieldChange","formSubmit","min","max","value","onChange","e","target","onMouseUp","SettingsForm","handleFormChange","targetProp","undefined","setState","defineProperty","angleRange","handleFormSubmission","preventDefault","updateSettings","bind","assertThisInitialized","onSubmit","components_InputField","minSize","multiplierPrecision","decay","decayPrecision","visibility","settingsObj","totalizeAngleRange","angleArr","currentRangeArr","index","reduce","partial_sum","shiftEntireArray","arrayToShift","refArr","el","newEl","assign","angle","degToRad","findMatchingRange","ranges","checkValue","findIndex","range","radToDeg","Math","round","PI","RangeHandlebars","fromRangeToAngle","deg","parseFloat","rad","fromAngleToRange","newRanges","toggleHover","hover","onMouseDown","button","dragging","stopPropagation","mouseQuad","onMouseMove","deltaY","pageY","center","deltaX","pageX","newAngleInRad","atan","minMax","abs","updateStates","ang","handleChange","handle","objectSpread","pos","x","y","document","addEventListener","removeEventListener","componentClasses","transformOrigin","textAlign","display","flexDirection","justifyContent","alignItems","paddingRight","onMouseEnter","onMouseLeave","index_es","icon","faCaretUp","faCaretDown","flatten","arr","val","acc","pluck","item","RadialControl","calcAllMinMax","flatArr","boundArr","mmArr","currentValue","currentIndex","length","prevIndex","nextIndex","floor","pad","apply","toConsumableArray","createPieData","initial","currentRange","allRanges","nextRangeStart","sectionData","title","emptyValue","maxAngleRanges","rootAngle","angleRanges","initAngle","controllerRadius","components_RangeHandlebars","dist_default","data","segmentsStyle","transition","startAngle","totalValue","lineWidth","ObstacleContainer","obstacles","currentObstacle","targets","currentTarget","ScoreCounter","handleClick","getWinningPath","ModeSelector","handleclick","changeGameMode","gameMode","faFlask","faBullseye","App","updateWindowDimensions","updateViewport","containers_ObstacleContainer","containers_ShapeContainer","components_ModeSelector","components_ScoreCounter","components_RadialControl","components_SettingsForm","viewportObj","randomSpread","originalValue","percentOfOriginal","precision","spread","direction","randomizer","random","createFragmentedArray","parentsArr","allChildrenArray","currentParent","parent","mySize","myAngle","myDistance","currentChildrenArray","siblingCounter","remainder","multiplier","tempAngle","push","distance","arrayToSpread","rangeToSpread","arrayToSpreadOver","parentAngle","spaceBetween","rangeToSpreadOver","emptySpace","resultArray","initialArray","initSpreadArray","j","splice","filter","angleSpread","cos","sin","distributeParentValue","offlineTest","testSettings","newNodes","newLeaves","time","Array","prototype","timeEnd","calcNewZoom","viewport","allX","allY","maxX","minX","maxY","minY","trunc","doesCircleIntersectSegment","vertex1","vertex2","distanceBetweenPoints","xx","yy","x1","y1","x2","y2","C","D","dot","len_sq","sqr","param","dx","dy","sqrt","distanceToSegment","point1","point2","doLeavesIntersectObstacles","status","currentLeaf","nextVert","modLeaf","levelStates","0","rootCoords","rootSize","1","2","3","initialState","shapeReducer","newLevel","arguments","action","slice","newSettings","newViewportDims","newStage","newGameMode","defaultStage","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","components_App","getElementById"],"mappings":"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","file":"static/js/main.ac996504.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Canvas extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.handlePlantSeed()\r\n\t\tconst intId = setInterval(() => {\r\n\t\t\tthis.handleCreateShape()\r\n\t\t}, 50)\r\n\t\tsetTimeout(() => {\r\n\t\t\tconsole.log('cleared, final state:', this.props.nodes)\r\n\t\t\tclearInterval(intId)\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\thandlePlantSeed = () => {\r\n\t\tthis.props.createRoot()\r\n\t}\r\n\r\n\thandleCreateShape = () => {\r\n\t\tthis.props.createNodes()\r\n\t}\r\n\r\n\t// render() {\r\n\t// \tconst viewBox = [\r\n\t// \t\t0,\r\n\t// \t\t0,\r\n\t// \t\twindow.innerWidth,\r\n\t// \t\twindow.innerHeight\r\n\t// \t]\r\n\t// \tconst style = {\r\n\t// \t\tborder: '1px solid black'\r\n\t// \t}\r\n\t// \treturn (\r\n\t// \t\t<svg id='spawn-canvas' style={style} viewBox={viewBox}>\r\n\t// \t\t\t<circle cx={150} cy={500} r={50} />\r\n\t// \t\t</svg>\r\n\t// \t)\r\n\t// }\r\n\trender() {\r\n\t\tconsole.log('zoom', this.props.stage.zoom)\r\n\t\tconst viewBox = [window.innerWidth / 2, 100 - window.innerHeight, window.innerWidth, window.innerHeight]\r\n\t\tconst styles = {\r\n\t\t\tposition: 'relative',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\twidth: window.innerWidth,\r\n\t\t\theight: window.innerHeight,\r\n\t\t\ttransform: `scale(${this.props.stage.zoom})`\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<svg className='stage' id='spawn-canvas' style={styles}>\r\n\t\t\t\t{this.props.nodes.map((currentShape, i) => {\r\n\t\t\t\t\tconst styles = {\r\n\t\t\t\t\t\t// fill: 'radial-gradient(rgba(210, 77, 87, 0.1),rgba(210, 77, 87, 0.2) , rgba(210, 77, 87, 0.8))'\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t\t<radialGradient id='exampleGradient'>\r\n\t\t\t\t\t\t\t\t\t<stop offset='10%' stop-color='gold' />\r\n\t\t\t\t\t\t\t\t\t<stop offset='95%' stop-color='green' />\r\n\t\t\t\t\t\t\t\t</radialGradient>\r\n\t\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t\t<circle cx={currentShape.coordX} cy={currentShape.coordY} r={currentShape.radius} />\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</svg>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims,\r\n\tsettings: state.settings,\r\n\tnodes: state.nodes,\r\n\tleaves: state.leaves,\r\n\tstage: state.stage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcreateRoot: () => dispatch({ type: 'CREATE_ROOT' }),\r\n\tcreateNodes: () => dispatch({ type: 'CREATE_NODES' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Canvas)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass ShapeContainer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tanimating: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.createRoot()\r\n\t\t// this.frame = requestAnimationFrame(this.loopCreatAnimation)\r\n\t}\r\n\r\n\tloopCreatAnimation = timestamp => {\r\n\t\tthis.props.createNodes()\r\n\t\tthis.frame = requestAnimationFrame(this.loopCreatAnimation)\r\n\t}\r\n\r\n\ttoggleAnimation = () => {\r\n\t\tif (this.state.animating) {\r\n\t\t\tcancelAnimationFrame(this.frame)\r\n\t\t\tthis.state.animating = !this.state.animating\r\n\t\t\tthis.props.reset()\r\n\t\t\tthis.props.createRoot()\r\n\t\t\tthis.frame = requestAnimationFrame(this.loopCreatAnimation)\r\n\t\t} else {\r\n\t\t\tthis.props.reset()\r\n\t\t\tthis.props.createRoot()\r\n\t\t\tthis.frame = requestAnimationFrame(this.loopCreatAnimation)\r\n\t\t\tthis.state.animating = !this.state.animating\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log('zoom', this.props.stage.zoom)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: this.props.viewportDims.width,\r\n\t\t\t\t\theight: this.props.viewportDims.height\r\n\t\t\t\t}}>\r\n\t\t\t\t{this.props.nodes.map((currentShape, i) => {\r\n\t\t\t\t\tconst styles = {\r\n\t\t\t\t\t\twidth: currentShape.radius * 2,\r\n\t\t\t\t\t\theight: currentShape.radius * 2,\r\n\t\t\t\t\t\tleft: currentShape.coordX,\r\n\t\t\t\t\t\ttop: currentShape.coordY,\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tbackground: `radial-gradient(rgba(${currentShape.color}, 0.1),rgba(${currentShape.color}, 0.2) , rgba(${\r\n\t\t\t\t\t\t\tcurrentShape.color\r\n\t\t\t\t\t\t}, 0.8))`,\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttransform: `translate(-${currentShape.radius}px, -${currentShape.radius}px)`\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <div className='cell' style={styles} key={i} onClick={this.toggleAnimation} />\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims,\r\n\tsettings: state.settings,\r\n\tnodes: state.nodes,\r\n\tleaves: state.leaves,\r\n\tstage: state.stage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcreateRoot: () => dispatch({ type: 'CREATE_ROOT' }),\r\n\tcreateNodes: () => dispatch({ type: 'CREATE_NODES' }),\r\n\treset: () => dispatch({ type: 'RESET' }),\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ShapeContainer)\r\n","import React, { Component } from 'react'\r\n\r\nclass InputField extends Component {\r\n\trender() {\r\n\t\tlet { propName, propLabel, propValue, propMin, propMax, fieldChange, formSubmit } = this.props\r\n\t\treturn (\r\n\t\t\t<div className='settings-controllers'>\r\n\t\t\t\t<label className='controller-label'>{propLabel}</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='sliders'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default InputField\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport InputField from './InputField'\r\nimport DoubleInput from './DoubleInput'\r\n\r\nclass SettingsForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = this.props.settings\r\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\r\n\t\tthis.handleFormSubmission = this.handleFormSubmission.bind(this)\r\n\t}\r\n\r\n\thandleFormChange = (value, targetProp, i) => {\r\n\t\tif(i === undefined){\r\n\t\t\tthis.setState({ [targetProp]: value })\r\n\t\t} else if(i===0){\r\n\t\t\tthis.setState({ [targetProp]: [[value, this.state.angleRange[0][1]]] })\r\n\t\t} else if(i===1){\r\n\t\t\tthis.setState({ [targetProp]: [[this.state.angleRange[0][0],value]] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleFormSubmission = e => {\r\n\t\te.preventDefault()\r\n\t\tthis.props.updateSettings(this.state)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='settings-controller'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='settings-form'\r\n\t\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\t\tthis.handleFormSubmission(e)\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'minSize'}\r\n\t\t\t\t\t\tpropLabel={'Min Size'}\r\n\t\t\t\t\t\tpropValue={this.state.minSize}\r\n\t\t\t\t\t\tpropMin={1}\r\n\t\t\t\t\t\tpropMax={10}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'multiplierPrecision'}\r\n\t\t\t\t\t\tpropLabel={'x Precision'}\r\n\t\t\t\t\t\tpropValue={this.state.multiplierPrecision}\r\n\t\t\t\t\t\tpropMin={0}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'decay'}\r\n\t\t\t\t\t\tpropLabel={'Decay'}\r\n\t\t\t\t\t\tpropValue={this.state.decay}\r\n\t\t\t\t\t\tpropMin={10}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'decayPrecision'}\r\n\t\t\t\t\t\tpropLabel={'D Precision'}\r\n\t\t\t\t\t\tpropValue={this.state.decayPrecision}\r\n\t\t\t\t\t\tpropMin={0}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input className='reset-button' type='submit' value='Reset' style={{visibility:'hidden'}}/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings,\r\n\tnodes: state.nodes,\r\n\tleaves: state.leaves\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateSettings: settingsObj => dispatch({ type: 'UPDATE_SETTINGS', settings: settingsObj }),\r\n\treset: () => dispatch({ type: 'RESET' }),\r\n\tcreateRoot: () => dispatch({ type: 'CREATE_ROOT' }),\r\n\tcreateNodes: () => dispatch({ type: 'CREATE_NODES' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SettingsForm)\r\n","import React, { Component } from 'react'\r\n\r\nclass InputField extends Component {\r\n\trender() {\r\n\t\tlet { propName, propLabel, propValue, propMin, propMax, fieldChange, formSubmit } = this.props\r\n\t\treturn (\r\n\t\t\t<div className='settings-controllers'>\r\n\t\t\t\t<label className='controller-label'>{propLabel}</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue[0]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 0)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='slidersHalf'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue[0]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 0)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='slidersHalf'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue[1]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 1)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue[1]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 1)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default InputField\r\n","function totalizeAngleRange(angleArr) {\r\n\tlet totalAngleArr = angleArr.map((currentRangeArr, index) => {\r\n\t\treturn currentRangeArr[1] - currentRangeArr[0]\r\n\t})\r\n\tlet totalAngle = totalAngleArr.reduce((partial_sum, a) => partial_sum + a)\r\n\treturn totalAngle\r\n}\r\n\r\nfunction angleSqueeze(arrayToSpread, rangeToSpread, arrayToSpreadOver, parentAngle){\r\n\tlet rangeToSpreadOver = totalizeAngleRange(arrayToSpreadOver)\r\n\tlet numberOfRanges = arrayToSpreadOver.length\r\n\r\n}\r\n\r\nfunction angleSpread(arrayToSpread, rangeToSpread, arrayToSpreadOver, parentAngle) {\r\n\t// adds equal sized spaces between the circles to spread them apart\r\n\tlet rangeToSpreadOver = totalizeAngleRange(arrayToSpreadOver)\r\n\tlet numberOfRanges = arrayToSpreadOver.length\r\n\tlet emptySpace = rangeToSpreadOver - rangeToSpread\r\n\tlet spaceBetween\r\n\r\n\tif (emptySpace < 0) {\r\n\t\temptySpace = 0\r\n\t}\r\n\tif (arrayToSpread.length === 0) {\r\n\t\tspaceBetween = 0\r\n\t} else {\r\n\t\tspaceBetween = degToRad(emptySpace / (arrayToSpread.length * 2))\r\n\t}\r\n\r\n\tlet cummAngle = degToRad(arrayToSpreadOver[0][0])\r\n\tlet rangeNumber = 0\r\n\tlet resultArray = []\r\n\tlet initialArray = arrayToSpread\r\n\tlet initSpreadArray = []\r\n\tfor (var i = 0; i < arrayToSpreadOver.length; i++) {\r\n\t\tinitSpreadArray = shiftEntireArray(initialArray, arrayToSpreadOver, i)\r\n\t\tfor (var j = 0; j < initialArray.length; j++) {\r\n\t\t\tlet newEl = Object.assign({}, initSpreadArray[j])\r\n\t\t\tlet tempAngle = newEl.angle + (2 * j + 1) * spaceBetween\r\n\t\t\trangeNumber = findMatchingRange(arrayToSpreadOver, radToDeg(tempAngle))\r\n\t\t\tif (rangeNumber === -1) {\r\n\t\t\t\tbreak\r\n\t\t\t} else {\r\n\t\t\t\tnewEl.angle = tempAngle\r\n\t\t\t\tresultArray.push(newEl)\r\n\t\t\t\tinitialArray.splice(0, j)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlet filteredArray = resultArray.filter(function(el) {\r\n\t\treturn el != null\r\n\t})\r\n\r\n\tlet finalPositionedArray = filteredArray.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.angle += degToRad(parentAngle)\r\n\t\treturn newEl\r\n\t})\r\n\treturn finalPositionedArray\r\n}\r\n\r\nfunction shiftEntireArray(arrayToShift, refArr, i) {\r\n\treturn arrayToShift.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.angle += degToRad(refArr[i][0])\r\n\t\t// console.log(radToDeg(el.angle), '+', refArr[i][0], '-->', radToDeg(newEl.angle))\r\n\t\treturn newEl\r\n\t})\r\n}\r\n\r\nfunction findMatchingRange(ranges, checkValue) {\r\n\tfunction checkRange(range) {\r\n\t\t// console.log('checkValue', checkValue, 'range[0]', range[0], 'range[1]', range[1])\r\n\t\treturn checkValue >= range[0] && checkValue <= range[1]\r\n\t}\r\n\treturn ranges.findIndex(checkRange)\r\n}\r\n\r\nfunction radToDeg(angle) {\r\n\treturn Math.round((angle * 180) / Math.PI)\r\n}\r\n\r\nfunction degToRad(angle) {\r\n\treturn Math.round((angle * Math.PI * 100) / 180) / 100\r\n}\r\n\r\nexport { totalizeAngleRange, angleSpread, degToRad, radToDeg }\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCaretUp, faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { totalizeAngleRange, angleSpread, degToRad, radToDeg } from '../utils/angleFunctions'\r\n\r\nclass RangeHandlebars extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\t// Initial state based on props and new parameters\r\n\t\tthis.state = {\r\n\t\t\tangleRange: this.props.settings.angleRange,\r\n\t\t\tradius: parseFloat(this.props.radius),\r\n\t\t\thandle: {\r\n\t\t\t\theight: 3\r\n\t\t\t},\r\n\t\t\thover: false,\r\n\t\t\tdragging: false,\r\n\t\t\tid: this.props.id,\r\n\t\t\tminMax: this.props.minMax\r\n\t\t}\r\n\t\t// Initialize deg and rad angles\r\n\t\t// hardcoded center based on bottom left controller + 10px padding\r\n\t\t// --- todo: make this flexible and based on position of parent getBoundingClientRect()\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tcenter: {\r\n\t\t\t\tcx: 10 + parseFloat(this.props.radius),\r\n\t\t\t\tcy: -10 + this.props.viewportDims.height - this.props.radius\r\n\t\t\t},\r\n\t\t\tangle: this.fromRangeToAngle()\r\n\t\t}\r\n\t\t// Calculate position of each handlebar\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tpos: {\r\n\t\t\t\tx: parseFloat(this.state.radius),\r\n\t\t\t\ty: parseFloat(this.state.radius)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Bind mouse event functions\r\n\t\tthis.onMouseDown = this.onMouseDown.bind(this)\r\n\t\tthis.onMouseUp = this.onMouseUp.bind(this)\r\n\t\tthis.onMouseMove = this.onMouseMove.bind(this)\r\n\t\tthis.fromRangeToAngle = this.fromRangeToAngle.bind(this)\r\n\t\tthis.fromAngleToRange = this.fromAngleToRange.bind(this)\r\n\t\tthis.updateStates = this.updateStates.bind(this)\r\n\t}\r\n\r\n\tcomponentDidUpdate(props, state) {\r\n\t\tif (this.state.dragging && !state.dragging) {\r\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove)\r\n\t\t\tdocument.addEventListener('mouseup', this.onMouseUp)\r\n\t\t} else if (!this.state.dragging && state.dragging) {\r\n\t\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\r\n\t\t\tdocument.removeEventListener('mouseup', this.onMouseUp)\r\n\t\t}\r\n\t}\r\n\r\n\tfromRangeToAngle = () => {\r\n\t\treturn {\r\n\t\t\tdeg: parseFloat(this.props.angle),\r\n\t\t\trad: degToRad(parseFloat(this.props.angle))\r\n\t\t}\r\n\t}\r\n\r\n\tfromAngleToRange = () => {\r\n\t\tlet newRanges = this.state.angleRange\r\n\t\tnewRanges[parseFloat(this.state.id[0])][parseFloat(this.state.id[1])] = this.state.angle.deg\r\n\t\tthis.setState({ angleRange: newRanges })\r\n\t}\r\n\r\n\ttoggleHover = () => {\r\n\t\tthis.setState({ hover: !this.state.hover })\r\n\t}\r\n\r\n\t// calculate relative position to the mouse and set dragging=true\r\n\tonMouseDown = e => {\r\n\t\tif (e.button !== 0) return\r\n\t\tthis.setState({\r\n\t\t\tdragging: true\r\n\t\t})\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tonMouseUp = e => {\r\n\t\tthis.setState({ dragging: false, mouseQuad: 0 })\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t\t// todo: trigger dispatch action here with settings updated with new angleRange\r\n\t}\r\n\r\n\tonMouseMove = e => {\r\n\t\tif (!this.state.dragging) return\r\n\t\tlet deltaY = e.pageY - this.state.center.cy\r\n\t\tlet deltaX = e.pageX - this.state.center.cx\r\n\t\tlet newAngleInRad = Math.atan(deltaY / deltaX)\r\n\t\tif (deltaX < 0 && deltaY < 0) {\r\n\t\t\t// Top left Quadrant\r\n\t\t\tnewAngleInRad -= Math.PI\r\n\t\t} else if (deltaX < 0 && deltaY > 0) {\r\n\t\t\t// Bottom left Quadrant\r\n\t\t\tnewAngleInRad += Math.PI\r\n\t\t}\r\n\t\tif (newAngleInRad <= this.state.minMax.min) {\r\n\t\t\tnewAngleInRad = this.state.minMax.min\r\n\t\t}\r\n\t\tif (newAngleInRad >= this.state.minMax.max) {\r\n\t\t\tnewAngleInRad = this.state.minMax.max\r\n\t\t}\r\n\t\tif (Math.abs(this.state.angle.rad - newAngleInRad) > Math.PI / 4) {\r\n\t\t\tnewAngleInRad = this.state.angle.rad\r\n\t\t}\r\n\t\tthis.updateStates(newAngleInRad)\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tupdateStates = ang => {\r\n\t\tthis.setState({\r\n\t\t\tangle: {\r\n\t\t\t\tdeg: radToDeg(ang),\r\n\t\t\t\trad: ang\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.fromAngleToRange()\r\n\t\tthis.props.handleChange(this.state.angleRange, 'angleRange', this.state.id)\r\n\t\tthis.setState({ minMax: this.props.minMax })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet componentClasses = ['handlebars']\r\n\t\tif (this.state.hover) {\r\n\t\t\tcomponentClasses += 'hover'\r\n\t\t}\r\n\t\tlet styles = {\r\n\t\t\tposition: 'absolute',\r\n\t\t\theight: `${this.state.handle.height}px`,\r\n\t\t\twidth: this.state.radius,\r\n\t\t\tleft: `${this.state.pos.x}px`,\r\n\t\t\ttop: `${this.state.pos.y}px`,\r\n\t\t\ttransform: `rotate(${this.state.angle.deg}deg)`,\r\n\t\t\ttransformOrigin: `0px`,\r\n\t\t\tborderRadius: '5px',\r\n\t\t\ttextAlign: 'end',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tpaddingRight: '5px'\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={styles}\r\n\t\t\t\tclassName={componentClasses}\r\n\t\t\t\tonMouseEnter={this.toggleHover}\r\n\t\t\t\tonMouseLeave={this.toggleHover}\r\n\t\t\t\tonMouseDown={this.onMouseDown}>\r\n\t\t\t\t<FontAwesomeIcon icon={faCaretUp} />\r\n\t\t\t\t<FontAwesomeIcon icon={faCaretDown} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings,\r\n\tviewportDims: state.viewportDims\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RangeHandlebars)\r\n","function flatten(arr, val) {\r\n\treturn arr.reduce((acc, val) => acc.concat(val), [])\r\n}\r\n\r\nfunction pluck(arr, key) {\r\n\treturn arr.map(function(item) {\r\n\t\treturn item[key]\r\n\t})\r\n}\r\n\r\nfunction multiPluck(arr, keys) {\r\n\treturn arr.map(function(item) {\r\n\t\tvar obj = {}\r\n\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\tobj[keys[i]] = item[keys[i]]\r\n\t\t}\r\n\t\treturn obj\r\n\t})\r\n}\r\n\r\nexport { flatten, pluck, multiPluck }\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PieChart from 'react-minimal-pie-chart'\r\nimport RangeHandlebars from './RangeHandlebars'\r\nimport { totalizeAngleRange, angleSpread, degToRad, radToDeg } from '../utils/angleFunctions'\r\nimport { flatten } from '../utils/arrayFunctions'\r\n\r\nclass RadialControl extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tangleRange: this.props.settings.angleRange,\r\n\t\t\tmaxAngleRanges: this.props.settings.maxAngleRanges,\r\n\t\t\tradius: this.props.radius,\r\n\t\t\trootAngle: this.props.settings.rootAngle\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tminMax: this.calcAllMinMax(),\r\n\t\t\tpad: 10\r\n\t\t}\r\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\r\n\t\tthis.calcAllMinMax = this.calcAllMinMax.bind(this)\r\n\t\tthis.createPieData = this.createPieData.bind(this)\r\n\t}\r\n\r\n\thandleFormChange = (value, targetProp, i) => {\r\n\t\tthis.setState({ [targetProp]: value })\r\n\t\tthis.setState({ minMax: this.calcAllMinMax() })\r\n\t}\r\n\r\n\tcalcAllMinMax = () => {\r\n\t\tlet flatArr = flatten(this.state.angleRange)\r\n\t\tlet boundArr = flatten([-180, flatArr, 180])\r\n\t\tlet mmArr = boundArr.map((currentValue, currentIndex) => {\r\n\t\t\tif (currentIndex === 0 || currentIndex === boundArr.length - 1) return {}\r\n\t\t\tlet prevIndex = currentIndex - 1\r\n\t\t\tlet nextIndex = currentIndex + 1\r\n\t\t\tlet key = Math.floor((currentIndex - 1) / 2) + '' + ((currentIndex - 1) % 2)\r\n\t\t\treturn {\r\n\t\t\t\t[key]: {\r\n\t\t\t\t\tmin: degToRad(boundArr[prevIndex] + this.state.pad),\r\n\t\t\t\t\tmax: degToRad(boundArr[nextIndex] - this.state.pad)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn Object.assign({}, ...mmArr)\r\n\t}\r\n\r\n\tcreatePieData = (arr, initial) => {\r\n\t\treturn flatten(\r\n\t\tarr.map((currentRange, i, allRanges) => {\r\n\t\t\tlet nextRangeStart = 0\r\n\t\t\tif (i >= allRanges.length - 1) {\r\n\t\t\t\tnextRangeStart = initial + 360\r\n\t\t\t} else {\r\n\t\t\t\tnextRangeStart = allRanges[i + 1][0]\r\n\t\t\t}\r\n\t\t\tlet sectionData = {\r\n\t\t\t\ttitle: `${i}`,\r\n\t\t\t\tvalue: (parseFloat(currentRange[1]) % 360) - (parseFloat(currentRange[0]) % 360),\r\n\t\t\t\tcolor: `rgba(210, 77, 87, 0.7)`\r\n\t\t\t}\r\n\t\t\tlet emptyValue = nextRangeStart - (parseFloat(currentRange[1]) % 360)\r\n\t\t\tlet emptySectionData = {\r\n\t\t\t\ttitle: `blank${i}`,\r\n\t\t\t\tvalue: emptyValue,\r\n\t\t\t\tcolor: emptyValue <= this.state.pad ? `rgba(255,255,255,0.8)` : `rgba(0,0,0,0.2)`,\r\n\t\t\t}\r\n\t\t\treturn [sectionData, emptySectionData]\r\n\t\t})\r\n\t)}\r\n\r\n\trender() {\r\n\t\tlet angleRanges = this.state.angleRange\r\n\t\tlet initAngle = Math.min(...angleRanges[0])\r\n\t\tlet controllerRadius = this.state.radius\r\n\t\treturn (\r\n\t\t\t<div className='radial-controller'>\r\n\t\t\t\t{angleRanges.map((currentRange, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='rangeHandlebars' key={i}>\r\n\t\t\t\t\t\t\t<RangeHandlebars\r\n\t\t\t\t\t\t\t\tradius={controllerRadius}\r\n\t\t\t\t\t\t\t\tangle={parseFloat(currentRange[0]) % 360}\r\n\t\t\t\t\t\t\t\tminMax={this.state.minMax[i + '0']}\r\n\t\t\t\t\t\t\t\tid={i + '0'}\r\n\t\t\t\t\t\t\t\thandleChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<RangeHandlebars\r\n\t\t\t\t\t\t\t\tradius={controllerRadius}\r\n\t\t\t\t\t\t\t\tangle={parseFloat(currentRange[1]) % 360}\r\n\t\t\t\t\t\t\t\tminMax={this.state.minMax[i + '1']}\r\n\t\t\t\t\t\t\t\tid={i + '1'}\r\n\t\t\t\t\t\t\t\thandleChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t\t<PieChart\r\n\t\t\t\t\tdata={this.createPieData(angleRanges, initAngle)}\r\n\t\t\t\t\tstyle={{ width: `${controllerRadius * 2}px`}}\r\n\t\t\t\t\tsegmentsStyle={{ transition: 'stroke .3s' }}\r\n\t\t\t\t\tstartAngle={parseFloat(angleRanges[0][0]) % 360}\r\n\t\t\t\t\ttotalValue={360}\r\n\t\t\t\t\tlineWidth={42}\r\n\t\t\t\t\tradius={42}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateSettings: settingsObj => dispatch({ type: 'UPDATE_SETTINGS', settings: settingsObj }),\r\n\treset: () => dispatch({ type: 'RESET' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RadialControl)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass ObstacleContainer extends Component {\r\n\r\n\trender() {\r\n\t\t// console.log('zoom', this.props.stage.zoom)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: this.props.viewportDims.width,\r\n\t\t\t\t\theight: this.props.viewportDims.height\r\n\t\t\t\t}}>\r\n\t\t\t\t{this.props.obstacles.map((currentObstacle, i) => {\r\n\t\t\t\t\t// if(!currentObstacle){return}\r\n\t\t\t\t\tconst styles = {\r\n\t\t\t\t\t\twidth: currentObstacle[2].x-currentObstacle[0].x,\r\n\t\t\t\t\t\theight: currentObstacle[2].y-currentObstacle[0].y,\r\n\t\t\t\t\t\tleft: currentObstacle[0].x,\r\n\t\t\t\t\t\ttop: currentObstacle[0].y,\r\n\t\t\t\t\t\tbackground: 'black',\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <div style={styles} key={i} />\r\n\t\t\t\t})}\r\n\t\t\t\t{this.props.targets.map((currentTarget, i) => {\r\n\t\t\t\t\t// if(!currentTarget){return}\r\n\t\t\t\t\tconst styles = {\r\n\t\t\t\t\t\twidth: currentTarget[2].x-currentTarget[0].x,\r\n\t\t\t\t\t\theight: currentTarget[2].y-currentTarget[0].y,\r\n\t\t\t\t\t\tleft: currentTarget[0].x,\r\n\t\t\t\t\t\ttop: currentTarget[0].y,\r\n\t\t\t\t\t\tbackground: 'rgba(210,50,50,0.7)',\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <div style={styles} key={i} />\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims,\r\n\tsettings: state.settings,\r\n\tobstacles: state.obstacles,\r\n\ttargets: state.targets,\r\n\tstage: state.stage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ObstacleContainer)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass ScoreCounter extends Component {\r\n\thandleClick = () => {\r\n\t\tthis.props.getWinningPath()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='score' onClick={this.handleClick}>\r\n\t\t\t\tScore: {this.props.nodes.length - 1}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tnodes: state.nodes\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tgetWinningPath: () => dispatch({ type: 'GET_WINNING_PATH' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ScoreCounter)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFlask, faBullseye } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass ModeSelector extends Component {\r\nhandleclick = () =>{\r\n    this.props.changeGameMode()\r\n}\r\n\r\n  render() {\r\n      var icon\r\n    (this.props.gameMode=='targetPractice')?icon=faFlask:icon=faBullseye\r\n    return (\r\n      <div className=\"gameModeButton\" onClick={this.handleclick}>\r\n        <FontAwesomeIcon icon={icon} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgameMode: state.gameMode\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tchangeGameMode: () => dispatch({ type: 'TOGGLE_GAME_MODE' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ModeSelector)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport '../styles/App.css'\r\nimport Canvas from '../containers/Canvas'\r\nimport ShapeContainer from '../containers/ShapeContainer'\r\nimport SettingsForm from './SettingsForm'\r\nimport RadialControl from './RadialControl'\r\nimport ObstacleContainer from '../containers/ObstacleContainer'\r\nimport ScoreCounter from './ScoreCounter'\r\nimport ModeSelector from './ModeSelector'\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = this.props.viewportDims\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this)\r\n\t\tconsole.log('viewport', this.state)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions()\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight })\r\n\t\tthis.props.updateViewport(this.state)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='App'>\r\n\t\t\t\t<header className='App-header'>\r\n\t\t\t\t\t<div className='stage' style={{ transform: `scale(${this.props.stage.zoom})`, position: 'relative' }}>\r\n\t\t\t\t\t\t<ObstacleContainer />\r\n\t\t\t\t\t\t<ShapeContainer />\r\n\t\t\t\t\t\t{/* <Canvas /> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ModeSelector />\r\n\t\t\t\t\t<ScoreCounter />\r\n\t\t\t\t\t<RadialControl radius={0.05 * this.state.width} />\r\n\t\t\t\t\t<SettingsForm />\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims,\r\n\tstage: state.stage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateViewport: viewportObj => dispatch({ type: 'UPDATE_VIEWPORT', viewportDims: viewportObj })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App)\r\n","function randomSpread(originalValue, percentOfOriginal, precision, spread, direction) {\r\n\t// percentOfOriginal= % of originalValue\r\n\t// precision= 0%:least precise, 100%:most precise\r\n\t// originalValue: starting value\r\n\t// spread= range as % of originalValue to randomize around\r\n\t// direction= 2: centered around percentOfOriginal. 1:Positive bias. -1:negative bias\r\n\tlet range = originalValue * (percentOfOriginal / 100) * (spread / 100)\r\n\tlet randomizer = 0\r\n\r\n\tif (direction === 2) {\r\n\t\trandomizer = Math.random() - Math.random()\r\n\t} else if (direction === 1 || direction === -1) {\r\n\t\trandomizer = direction * Math.abs(Math.random() - Math.random())\r\n\t} else {\r\n\t\tdirection = -1\r\n\t}\r\n\treturn (percentOfOriginal / 100) * originalValue + (randomizer * range * (100 - precision)) / 100\r\n}\r\n\r\nexport default randomSpread\r\n","import { totalizeAngleRange, angleSpread, degToRad, radToDeg } from './angleFunctions'\r\nimport { flatten } from './arrayFunctions'\r\nimport randomSpread from './randomSpread'\r\n\r\n// ~~~~~~~~~~~ CREATE FRAGMENTED ARRAY ~~~~~~~~~~~~~~~//\r\nfunction createFragmentedArray(parentsArr, settings) {\r\n\tvar allChildrenArray = parentsArr.map((currentParent, index) => {\r\n\t\treturn distributeParentValue(currentParent, settings)\r\n\t})\r\n\tallChildrenArray = flatten(allChildrenArray)\r\n\treturn allChildrenArray\r\n}\r\n\r\n// ~~~~~~~~~~~~~~ DISTRIBUTE VALUE ~~~~~~~~~~~~~~~~~~~//\r\nfunction distributeParentValue(parent, settings) {\r\n\tlet mySize = 0\r\n\tlet myAngle = 0\r\n\tlet myDistance = parent.radius + 5 // Adjust this to move children off of circumferance\r\n\tlet currentChildrenArray = []\r\n\tlet siblingCounter = 0\r\n\r\n\tlet minAngle = Math.atan(settings.minSize / myDistance)\r\n\tlet remainder = randomSpread(parent.radius, settings.multiplier, settings.multiplierPrecision, 50, 2)\r\n\r\n\tif (parent.radius <= settings.minSize || parent.id.length === 40) {\r\n\t\treturn currentChildrenArray\r\n\t} else {\r\n\t\twhile (remainder >= settings.minSize) {\r\n\t\t\tmySize = randomSpread(remainder * Math.random(), settings.decay, settings.decayPrecision, 100, 2)\r\n\t\t\t// mySize = Math.trunc(remainder * Math.random() * 1000) / 1000\r\n\t\t\tlet tempAngle = Math.atan(mySize / myDistance)\r\n\t\t\tremainder -= mySize\r\n\t\t\tif (mySize >= settings.minSize) {\r\n\t\t\t\t// retotalizer += mySize\r\n\t\t\t\tmyAngle += tempAngle // Find my center\r\n\t\t\t\tcurrentChildrenArray.push({\r\n\t\t\t\t\tid: parent.id + '' + siblingCounter,\r\n\t\t\t\t\tradius: mySize,\r\n\t\t\t\t\tdistance: myDistance,\r\n\t\t\t\t\tcoordX: parent.coordX,\r\n\t\t\t\t\tcoordY: parent.coordY,\r\n\t\t\t\t\tangle: myAngle,\r\n\t\t\t\t\tcolor: `210, ${mySize*20}, ${mySize*40}` // rgb values\r\n\t\t\t\t})\r\n\t\t\t\tsiblingCounter += 1\r\n\t\t\t\tmyAngle += tempAngle // Setup for next center\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Spread Angle of children over angle range\r\n\tlet distributedChildrenArray = angleSpread(\r\n\t\tcurrentChildrenArray,\r\n\t\tMath.abs(radToDeg(myAngle)),\r\n\t\tsettings.angleRange,\r\n\t\tradToDeg(parent.angle) % 360\r\n\t)\r\n\r\n\tlet positionedChildrenArray = distributedChildrenArray.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.coordX = newEl.coordX + newEl.distance * Math.cos(newEl.angle)\r\n\t\tnewEl.coordY = newEl.coordY + newEl.distance * Math.sin(newEl.angle)\r\n\t\treturn newEl\r\n\t})\r\n\r\n\treturn positionedChildrenArray\r\n}\r\n\r\nexport default createFragmentedArray\r\n\r\n//\r\n//\r\n//\r\n//\r\n//\r\n// Offline Tests:\r\n\r\nwindow.offlineTest = offlineTest\r\nfunction offlineTest() {\r\n\tlet testRoot = [\r\n\t\t{\r\n\t\t\tid: 0,\r\n\t\t\tradius: 200,\r\n\t\t\tcoordX: 900 / 2,\r\n\t\t\tcoordY: 900 / 2,\r\n\t\t\tangle: 0\r\n\t\t}\r\n\t]\r\n\r\n\tlet testSettings = {\r\n\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\tmaxAngleRanges: 4,\r\n\t\tminSize: 1,\r\n\t\tmultiplier: 130,\r\n\t\tmultiplierPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\tdecay: 90,\r\n\t\tdecayPrecision: 40 // Higher Levels, precision -> 100%\r\n\t}\r\n\tlet newNodes = testRoot\r\n\tlet newLeaves = newNodes\r\n\tconsole.time('fragArray')\r\n\tfor (var i = 0; i < 50; i++) {\r\n\t\tnewLeaves = createFragmentedArray(newLeaves, testSettings)\r\n\t\tArray.prototype.push.apply(newNodes, newLeaves)\r\n\t\t// console.log('nodes',newNodes)\r\n\t\t// console.log('leaves',newLeaves)\r\n\t\tif (newLeaves.length === 0 || newLeaves.length > 20000) break\r\n\t}\r\n\tconsole.timeEnd('fragArray')\r\n\tconsole.log(newNodes.length)\r\n\twindow.newNodes = newNodes\r\n\t// const intId = setInterval(() => {\r\n\t// \tlet result = createFragmentedArray(testLeaves,testSettings)\r\n\t// \tconsole.log(result)\r\n\t// }, 50)\r\n\t// setTimeout(() => {\r\n\t// \tclearInterval(intId)\r\n\t// }, 10000)\r\n}\r\n","import { pluck } from '../utils/arrayFunctions'\r\n\r\nfunction calcNewZoom(leaves, stage, viewport) {\r\n\tlet allX = pluck(leaves, 'coordX')\r\n\tlet allY = pluck(leaves, 'coordY')\r\n\r\n\tlet maxX = Math.max(...allX, stage.x.max)\r\n\tlet minX = Math.min(...allX, stage.x.min)\r\n\tlet maxY = Math.max(...allY, stage.y.max)\r\n\tlet minY = Math.min(...allY, stage.y.min)\r\n\r\n\tlet deltaX = Math.max(Math.abs(minX), maxX - stage.x.max)\r\n\tlet deltaY = Math.max(Math.abs(minY), maxY - stage.y.max)\r\n\r\n\tlet newStage = {\r\n\t\tx: {\r\n\t\t\tmin: -deltaX,\r\n\t\t\tmax: viewport.width + deltaX\r\n\t\t},\r\n\t\ty: {\r\n\t\t\tmin: -deltaY,\r\n\t\t\tmax: viewport.height + deltaY\r\n\t\t},\r\n\t\tzoom: Math.trunc(10000 * 1 / Math.max(1 + (2 * deltaX) / viewport.width, 1 + (2 * deltaY) / viewport.height))/10000\r\n\t}\r\n\r\n\treturn newStage\r\n}\r\n\r\nexport default calcNewZoom\r\n","import { flatten, pluck, multiPluck } from '../utils/arrayFunctions'\r\n\r\nfunction doLeavesIntersectObstacles(leaves, obstacles, status) {\r\n\tlet collisionLeaves = leaves.map((currentLeaf, index) => {\r\n\t\tfor (var i = 0; i < obstacles.length; i++) {\r\n\t\t\tfor (var j = 0; j < obstacles[i].length; j++) {\r\n\t\t\t\tvar nextVert\r\n\t\t\t\tif (j == obstacles[i].length - 1) {\r\n\t\t\t\t\tnextVert = obstacles[i][0]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnextVert = obstacles[i][j + 1]\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\tdoesCircleIntersectSegment(\r\n\t\t\t\t\t\t{ x: currentLeaf.coordX, y: currentLeaf.coordY },\r\n\t\t\t\t\t\tcurrentLeaf.radius,\r\n\t\t\t\t\t\tobstacles[i][j],\r\n\t\t\t\t\t\tnextVert\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\t// true\r\n\t\t\t\t\tif (status == 'lose') {\r\n\t\t\t\t\t\tlet modLeaf = currentLeaf\r\n\t\t\t\t\t\tmodLeaf.color = `0, 0, 0` // rgb values\r\n\t\t\t\t\t\tmodLeaf.radius = 0\r\n\t\t\t\t\t\treturn modLeaf\r\n\t\t\t\t\t} else if (status == 'win') {\r\n\t\t\t\t\t\tlet modLeaf = currentLeaf\r\n\t\t\t\t\t\tmodLeaf.color = `210, 50, 50` // rgb values\r\n\t\t\t\t\t\tmodLeaf.status = 'win'\r\n\t\t\t\t\t\treturn modLeaf\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn currentLeaf\r\n\t})\r\n\treturn collisionLeaves\r\n}\r\n\r\nfunction doesCircleIntersectSegment(center, radius, vertex1, vertex2) {\r\n\t// Check if vertices are in the circle, then check if distance is within radius\r\n\tif (distanceBetweenPoints(center, vertex1) <= radius || distanceBetweenPoints(center, vertex2) <= radius) {\r\n\t\treturn true\r\n\t} else if (distanceToSegment(center, vertex1, vertex2) <= radius) {\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nfunction distanceBetweenPoints(point1, point2) {\r\n\treturn Math.sqrt(sqr(point2.x - point1.x) + sqr(point2.y - point1.y))\r\n}\r\n\r\nfunction distanceToSegment(center, vertex1, vertex2) {\r\n\t// center, vertex1, & vertex2 as objects: {x: ..., y: ...}\r\n\tconst x = center.x\r\n\tconst y = center.y\r\n\tconst x1 = vertex1.x\r\n\tconst y1 = vertex1.y\r\n\tconst x2 = vertex2.x\r\n\tconst y2 = vertex2.y\r\n\r\n\tvar A = x - x1\r\n\tvar B = y - y1\r\n\tvar C = x2 - x1\r\n\tvar D = y2 - y1\r\n\r\n\tvar dot = A * C + B * D\r\n\tvar len_sq = sqr(C) + sqr(D)\r\n\tvar param = -1\r\n\tif (len_sq != 0)\r\n\t\t//in case of 0 length line\r\n\t\tparam = dot / len_sq\r\n\r\n\tvar xx, yy\r\n\r\n\tif (param < 0) {\r\n\t\txx = x1\r\n\t\tyy = y1\r\n\t} else if (param > 1) {\r\n\t\txx = x2\r\n\t\tyy = y2\r\n\t} else {\r\n\t\txx = x1 + param * C\r\n\t\tyy = y1 + param * D\r\n\t}\r\n\r\n\tvar dx = x - xx\r\n\tvar dy = y - yy\r\n\treturn Math.sqrt(sqr(dx) + sqr(dy))\r\n}\r\n\r\nfunction sqr(x) {\r\n\treturn x * x\r\n}\r\n\r\nexport default doLeavesIntersectObstacles\r\n","export const levelStates = {\r\n\t0: {\r\n\t\tsettings: {\r\n\t\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\t\tmaxAngleRanges: 4,\r\n\t\t\tminSize: 4,\r\n\t\t\tmultiplier: 130,\r\n\t\t\tmultiplierPrecision: 80, // Higher Levels, precision -> 100%\r\n\t\t\tdecay: 90,\r\n\t\t\tdecayPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\t\trootAngle: -90,\r\n\t\t\trootCoords: { coordX: window.innerWidth * 0.5, coordY: window.innerHeight * 0.5 },\r\n\t\t\trootSize: 100\r\n\t\t},\r\n\t\tobstacles: [],\r\n\t\ttargets: []\r\n\t},\r\n\t1: {\r\n\t\tsettings: {\r\n\t\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\t\tmaxAngleRanges: 4,\r\n\t\t\tminSize: 4,\r\n\t\t\tmultiplier: 130,\r\n\t\t\tmultiplierPrecision: 80, // Higher Levels, precision -> 100%\r\n\t\t\tdecay: 90,\r\n\t\t\tdecayPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\t\trootAngle: 0,\r\n\t\t\trootCoords: { coordX: window.innerWidth * 0.2, coordY: window.innerHeight * 0.5 },\r\n\t\t\trootSize: 100\r\n\t\t},\r\n\t\tobstacles: [\r\n\t\t\t[{ x: 0, y: 0 }, { x: window.innerWidth * 0.4, y: 0 }, { x: window.innerWidth * 0.4, y: 50 }, { x: 0, y: 50 }],\r\n\t\t\t[\r\n\t\t\t\t{ x: 0, y: window.innerHeight - 50 },\r\n\t\t\t\t{ x: window.innerWidth * 0.4, y: window.innerHeight - 50 },\r\n\t\t\t\t{ x: window.innerWidth * 0.4, y: window.innerHeight },\r\n\t\t\t\t{ x: 0, y: window.innerHeight }\r\n\t\t\t],\r\n\t\t\t[{ x: 0, y: 0 }, { x: 50, y: 0 }, { x: 50, y: window.innerHeight }, { x: 0, y: window.innerHeight }]\r\n\t\t], // Draw obstacles clockwise\r\n\t\ttargets: [\r\n\t\t\t[\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t\t]\r\n\t\t]\r\n\t},\r\n\t2: {\r\n\t\tsettings: {\r\n\t\t\tangleRange: [[-45, 45]], // Range: -180 to 180\r\n\t\t\tmaxAngleRanges: 4,\r\n\t\t\tminSize: 4,\r\n\t\t\tmultiplier: 130,\r\n\t\t\tmultiplierPrecision: 80, // Higher Levels, precision -> 100%\r\n\t\t\tdecay: 90,\r\n\t\t\tdecayPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\t\trootAngle: 0,\r\n\t\t\trootCoords: { coordX: window.innerWidth * 0.5, coordY: window.innerHeight * 0.5 },\r\n\t\t\trootSize: 100\r\n\t\t},\r\n\t\tobstacles: [\r\n\t\t\t[{ x: 0, y: 0 }, { x: window.innerWidth, y: 0 }, { x: window.innerWidth, y: 50 }, { x: 0, y: 50 }],\r\n\t\t\t[\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t{ x: 0, y: window.innerHeight - 300 },\r\n\t\t\t\t{ x: window.innerWidth, y: window.innerHeight - 300 },\r\n\t\t\t\t{ x: window.innerWidth, y: window.innerHeight - 250 },\r\n\t\t\t\t{ x: 0, y: window.innerHeight - 250 }\r\n\t\t\t],\r\n\t\t\t[{ x: 0, y: 0 }, { x: 50, y: 0 }, { x: 50, y: window.innerHeight }, { x: 0, y: window.innerHeight }]\r\n\t\t], // Draw obstacles clockwise\r\n\t\ttargets: [\r\n\t\t\t[\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t\t]\r\n\t\t]\r\n\t},\r\n\t3: {\r\n\t\tsettings: {\r\n\t\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\t\tmaxAngleRanges: 4,\r\n\t\t\tminSize: 4,\r\n\t\t\tmultiplier: 130,\r\n\t\t\tmultiplierPrecision: 80, // Higher Levels, precision -> 100%\r\n\t\t\tdecay: 90,\r\n\t\t\tdecayPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\t\trootAngle: 0,\r\n\t\t\trootCoords: { coordX: window.innerWidth * 0.5, coordY: window.innerHeight * 0.5 },\r\n\t\t\trootSize: 100\r\n\t\t},\r\n\t\tobstacles: [\r\n\t\t\t[{ x: 0, y: 0 }, { x: window.innerWidth, y: 0 }, { x: window.innerWidth, y: 50 }, { x: 0, y: 50 }],\r\n\t\t\t[\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t{ x: 0, y: window.innerHeight - 300 },\r\n\t\t\t\t{ x: window.innerWidth, y: window.innerHeight - 300 },\r\n\t\t\t\t{ x: window.innerWidth, y: window.innerHeight - 250 },\r\n\t\t\t\t{ x: 0, y: window.innerHeight - 250 }\r\n\t\t\t],\r\n\t\t\t[{ x: 0, y: 0 }, { x: 50, y: 0 }, { x: 50, y: window.innerHeight }, { x: 0, y: window.innerHeight }]\r\n\t\t], // Draw obstacles clockwise\r\n\t\ttargets: [\r\n\t\t\t[\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n}\r\n","import createFragmentedArray from '../utils/fragment'\r\nimport calcNewZoom from '../utils/stageSetup'\r\nimport doLeavesIntersectObstacles from '../utils/collisions'\r\nimport {levelStates} from '../levels/levels'\r\n// import highlightWinningPath from '../utils/winningPath'\r\n\r\n// This reducer references/holds the main store\r\n// It modifies the main state of the app\r\n\r\nconst initialState = {\r\n\tviewportDims: { width: window.innerWidth, height: window.innerHeight },\r\n\tstage: { x: { min: 0, max: window.innerWidth }, y: { min: 0, max: window.innerHeight }, zoom: 1 },\r\n\tsettings: {\r\n\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\tmaxAngleRanges: 4,\r\n\t\tminSize: 4,\r\n\t\tmultiplier: 130,\r\n\t\tmultiplierPrecision: 80, // Higher Levels, precision -> 100%\r\n\t\tdecay: 90,\r\n\t\tdecayPrecision: 40, // Higher Levels, precision -> 100%\r\n\t\trootAngle: 0,\r\n\t\trootCoords: { coordX: window.innerWidth * 0.2, coordY: window.innerHeight * 0.5 },\r\n\t\trootSize: 100\r\n\t},\r\n\tnodes: [],\r\n\tleaves: [],\r\n\tobstacles: [\r\n\t\t[{ x: 0, y: 0 }, { x: window.innerWidth * 0.4, y: 0 }, { x: window.innerWidth * 0.4, y: 50 }, { x: 0, y: 50 }],\r\n\t\t[\r\n\t\t\t{ x: 0, y: window.innerHeight - 50 },\r\n\t\t\t{ x: window.innerWidth * 0.4, y: window.innerHeight - 50 },\r\n\t\t\t{ x: window.innerWidth * 0.4, y: window.innerHeight },\r\n\t\t\t{ x: 0, y: window.innerHeight }\r\n\t\t],\r\n\t\t[{ x: 0, y: 0 }, { x: 50, y: 0 }, { x: 50, y: window.innerHeight }, { x: 0, y: window.innerHeight }]\r\n\t], // Draw obstacles clockwise\r\n\ttargets: [\r\n\t\t[\r\n\t\t\t{ x: window.innerWidth - 350, y: 300 },\r\n\t\t\t{ x: window.innerWidth - 300, y: 300 },\r\n\t\t\t{ x: window.innerWidth - 300, y: 600 },\r\n\t\t\t{ x: window.innerWidth - 350, y: 600 }\r\n\t\t]\r\n\t],\r\n\tgameMode: 'targetPractice'\r\n}\r\n\r\nconst shapeReducer = (state = initialState, action) => {\r\n\tvar newNodes = state.nodes.slice()\r\n\tvar newLeaves = state.leaves.slice()\r\n\tvar newSettings = { ...state.settings }\r\n\tvar newViewportDims = { ...state.viewportDims }\r\n\tvar newStage = state.stage\r\n\tvar newGameMode = state.gameMode\r\n\tvar newLevel\r\n\tswitch (action.type) {\r\n\t\tcase 'RESET':\r\n\t\t\tvar defaultStage = { x: { min: 0, max: window.innerWidth }, y: { min: 0, max: window.innerHeight }, zoom: 1 }\r\n\t\t\treturn { ...state, nodes: [], leaves: [], stage: defaultStage }\r\n\t\tcase 'CREATE_ROOT':\r\n\t\t\tnewNodes = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tradius: state.settings.rootSize,\r\n\t\t\t\t\tcoordX: state.settings.rootCoords.coordX,\r\n\t\t\t\t\tcoordY: state.settings.rootCoords.coordY,\r\n\t\t\t\t\tangle: state.settings.rootAngle,\r\n\t\t\t\t\tcolor: `210, ${150 * 20}, ${150 * 40}` // rgb values\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tnewLeaves = newNodes\r\n\t\t\treturn { ...state, nodes: newNodes, leaves: newLeaves }\r\n\t\tcase 'CREATE_NODES':\r\n\t\t\tnewLeaves = createFragmentedArray(newLeaves, newSettings)\r\n\t\t\tnewStage = calcNewZoom(newLeaves, state.stage, state.viewportDims)\r\n\t\t\tnewLeaves = doLeavesIntersectObstacles(newLeaves, state.obstacles, 'lose')\r\n\t\t\tnewLeaves = doLeavesIntersectObstacles(newLeaves, state.targets, 'win')\r\n\t\t\tArray.prototype.push.apply(newNodes, newLeaves)\r\n\t\t\treturn { ...state, nodes: newNodes, leaves: newLeaves, stage: newStage }\r\n\t\t// case 'GET_WINNING_PATH':\r\n\t\t// \tnewNodes = highlightWinningPath(newNodes)\r\n\t\t// \treturn {...state,nodes:newNodes}\r\n\t\tcase 'UPDATE_SETTINGS':\r\n\t\t\tnewSettings = action.settings\r\n\t\t\treturn { ...state, settings: newSettings }\r\n\t\tcase 'UPDATE_VIEWPORT':\r\n\t\t\tnewViewportDims = action.viewportDims\r\n\t\t\treturn { ...state, viewportDims: newViewportDims }\r\n\t\tcase 'TOGGLE_GAME_MODE':\r\n\t\t\tif (newGameMode == 'targetPractice') {\r\n\t\t\t\tnewGameMode = 'sandbox'\r\n\t\t\t\tnewLevel = levelStates[0]\r\n\t\t\t} else {\r\n\t\t\t\tnewGameMode = 'targetPractice'\r\n\t\t\t\tnewLevel = levelStates[1]\r\n\t\t\t}\r\n\t\t\tnewNodes = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tradius: newLevel.settings.rootSize,\r\n\t\t\t\t\tcoordX: newLevel.settings.rootCoords.coordX,\r\n\t\t\t\t\tcoordY: newLevel.settings.rootCoords.coordY,\r\n\t\t\t\t\tangle: newLevel.settings.rootAngle,\r\n\t\t\t\t\tcolor: `210, ${150 * 20}, ${150 * 40}` // rgb values\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tnewLeaves = newNodes\r\n\t\t\treturn { ...state, gameMode: newGameMode, settings:newLevel.settings,obstacles:newLevel.obstacles,targets:newLevel.targets,nodes: newNodes, leaves: newLeaves,  }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default shapeReducer\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './styles/index.css'\r\nimport App from './components/App'\r\nimport shapeReducer from './reducers/shapeReducer'\r\n\r\nimport { createStore } from 'redux'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst store = createStore(shapeReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\n// store.subscribe(() => {\r\n//     if (store.getState().leaves.length > 0){\r\n//         console.log(store.getState().leaves)\r\n//         store.dispatch({ type: 'CREATE_NODES' })\r\n//     }\r\n// })\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n)\r\n"],"sourceRoot":""}