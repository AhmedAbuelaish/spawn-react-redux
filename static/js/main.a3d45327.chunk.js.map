{"version":3,"sources":["containers/ShapeContainer.js","components/Canvas.js","components/InputField.js","components/SettingsForm.js","components/DoubleInput.js","utils/angleFunctions.js","components/RangeHandlebars.js","utils/arrayFunctions.js","components/RadialControl.js","components/App.js","utils/randomSpread.js","utils/fragment.js","reducers/shapeReducer.js","utils/stageSetup.js","index.js"],"names":["ShapeContainer","Component","handlePlantSeed","_this","props","createRoot","handleCreateShape","createNodes","_this2","this","intId","setInterval","setTimeout","console","log","nodes","clearInterval","stage","zoom","react_default","a","createElement","className","style","position","left","top","width","viewportDims","height","transform","concat","map","currentShape","i","styles","radius","coordX","coordY","borderRadius","background","key","connect","state","settings","leaves","dispatch","type","InputField","_this$props","propName","propLabel","propValue","propMin","propMax","fieldChange","formSubmit","id","min","max","value","onChange","e","target","onMouseUp","SettingsForm","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFormChange","targetProp","undefined","setState","defineProperty","angleRange","handleFormSubmission","preventDefault","updateSettings","reset","plantSeed","bind","assertThisInitialized","onSubmit","components_InputField","minSize","multiplierPrecision","decay","decayPrecision","settingsObj","shiftEntireArray","arrayToShift","refArr","el","index","newEl","assign","angle","degToRad","findMatchingRange","ranges","checkValue","findIndex","range","radToDeg","Math","round","PI","RangeHandlebars","fromRangeToAngle","deg","parseFloat","rad","fromAngleToRange","newRanges","toggleHover","hover","onMouseDown","button","dragging","stopPropagation","mouseQuad","onMouseMove","deltaY","pageY","center","cy","deltaX","pageX","cx","newAngleInRad","atan","minMax","abs","updateStates","ang","handleChange","handle","objectSpread","pos","x","y","document","addEventListener","removeEventListener","componentClasses","transformOrigin","textAlign","display","flexDirection","justifyContent","alignItems","paddingRight","onMouseEnter","onMouseLeave","index_es","icon","faCaretUp","faCaretDown","flatten","arr","val","reduce","acc","pluck","item","RadialControl","calcAllMinMax","flatArr","boundArr","mmArr","currentValue","currentIndex","length","prevIndex","nextIndex","floor","pad","apply","toConsumableArray","createPieData","initial","currentRange","allRanges","nextRangeStart","sectionData","title","color","emptyValue","maxAngleRanges","angleRanges","initAngle","controllerRadius","components_RangeHandlebars","dist_default","data","segmentsStyle","transition","startAngle","totalValue","lineWidth","App","updateWindowDimensions","window","innerWidth","innerHeight","updateViewport","components_RadialControl","viewportObj","randomSpread","originalValue","percentOfOriginal","precision","spread","direction","randomizer","random","createFragmentedArray","parentsArr","allChildrenArray","currentParent","parent","mySize","myAngle","myDistance","currentChildrenArray","siblingCounter","remainder","multiplier","tempAngle","push","distance","arrayToSpread","rangeToSpread","arrayToSpreadOver","parentAngle","spaceBetween","rangeToSpreadOver","currentRangeArr","partial_sum","emptySpace","resultArray","initialArray","initSpreadArray","j","splice","filter","angleSpread","cos","sin","distributeParentValue","initialState","shapeReducer","arguments","action","newNodes","slice","newLeaves","newSettings","newViewportDims","newStage","defaultStage","viewport","allX","allY","maxX","minX","maxY","minY","trunc","calcNewZoom","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","components_App","getElementById"],"mappings":"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","file":"static/js/main.a3d45327.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass ShapeContainer extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.handlePlantSeed()\r\n\t\tconst intId = setInterval(() => {\r\n\t\t\tthis.handleCreateShape()\r\n\t\t}, 50)\r\n\t\tsetTimeout(() => {\r\n\t\t\tconsole.log('cleared, final state:', this.props.nodes)\r\n\t\t\tclearInterval(intId)\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\thandlePlantSeed = () => {\r\n\t\tthis.props.createRoot()\r\n\t}\r\n\r\n\thandleCreateShape = () => {\r\n\t\tthis.props.createNodes()\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log('zoom', this.props.stage.zoom)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName='stage'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: this.props.viewportDims.width,\r\n\t\t\t\t\theight: this.props.viewportDims.height,\r\n\t\t\t\t\ttransform: `scale(${this.props.stage.zoom})`\r\n\t\t\t\t}}>\r\n\t\t\t\t{this.props.nodes.map((currentShape, i) => {\r\n\t\t\t\t\tconst styles = {\r\n\t\t\t\t\t\twidth: currentShape.radius * 2,\r\n\t\t\t\t\t\theight: currentShape.radius * 2,\r\n\t\t\t\t\t\tleft: currentShape.coordX,\r\n\t\t\t\t\t\ttop: currentShape.coordY,\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tbackground: 'radial-gradient(rgba(210, 77, 87, 0.1),rgba(210, 77, 87, 0.2) , rgba(210, 77, 87, 0.8))',\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttransform: `translate(-${currentShape.radius}px, -${currentShape.radius}px)`\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <div style={styles} key={i} />\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims,\r\n\tsettings: state.settings,\r\n\tnodes: state.nodes,\r\n\tleaves: state.leaves,\r\n\tstage: state.stage\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcreateRoot: () => dispatch({ type: 'CREATE_ROOT' }),\r\n\tcreateNodes: () => dispatch({ type: 'CREATE_NODES' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ShapeContainer)\r\n","import React, { Component } from 'react'\r\n\r\nclass Canvas extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst canvas = this.refs.canvas\r\n\t\tconst ctx = canvas.getContext('2d')\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<canvas ref=\"canvas\" width={640} height={425}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Canvas\r\n","import React, { Component } from 'react'\r\n\r\nclass InputField extends Component {\r\n\trender() {\r\n\t\tlet { propName, propLabel, propValue, propMin, propMax, fieldChange, formSubmit } = this.props\r\n\t\treturn (\r\n\t\t\t<div className='settings-controllers'>\r\n\t\t\t\t<label className='controller-label'>{propLabel}</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='sliders'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default InputField\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport InputField from './InputField'\r\nimport DoubleInput from './DoubleInput'\r\n\r\nclass SettingsForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = this.props.settings\r\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\r\n\t\tthis.handleFormSubmission = this.handleFormSubmission.bind(this)\r\n\t}\r\n\r\n\thandleFormChange = (value, targetProp, i) => {\r\n\t\tconsole.log('input:', value, 'i', i)\r\n\t\tif(i === undefined){\r\n\t\t\tthis.setState({ [targetProp]: value })\r\n\t\t} else if(i===0){\r\n\t\t\tthis.setState({ [targetProp]: [[value, this.state.angleRange[0][1]]] })\r\n\t\t\tconsole.log(this.state.angleRange, 'i', i)\r\n\t\t} else if(i===1){\r\n\t\t\tthis.setState({ [targetProp]: [[this.state.angleRange[0][0],value]] })\r\n\t\t\tconsole.log(this.state.angleRange, 'i', i)\r\n\t\t}\r\n\t}\r\n\r\n\thandleFormSubmission = e => {\r\n\t\te.preventDefault()\r\n\t\tthis.props.updateSettings(this.state)\r\n\t\tthis.props.reset()\r\n\t\tthis.plantSeed()\r\n\t\tconst intId = setInterval(() => {\r\n\t\t\tthis.handleCreateShape()\r\n\t\t}, 50)\r\n\t\tsetTimeout(() => {\r\n\t\t\tclearInterval(intId)\r\n\t\t}, 10000)\r\n\t}\r\n\r\n\tplantSeed = () => {\r\n\t\tthis.props.createRoot()\r\n\t}\r\n\r\n\thandleCreateShape = () => {\r\n\t\tthis.props.createNodes()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='settings-controller'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='settings-form'\r\n\t\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\t\tthis.handleFormSubmission(e)\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'minSize'}\r\n\t\t\t\t\t\tpropLabel={'Min Size'}\r\n\t\t\t\t\t\tpropValue={this.state.minSize}\r\n\t\t\t\t\t\tpropMin={1}\r\n\t\t\t\t\t\tpropMax={10}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'multiplierPrecision'}\r\n\t\t\t\t\t\tpropLabel={'x Precision'}\r\n\t\t\t\t\t\tpropValue={this.state.multiplierPrecision}\r\n\t\t\t\t\t\tpropMin={0}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'decay'}\r\n\t\t\t\t\t\tpropLabel={'Decay'}\r\n\t\t\t\t\t\tpropValue={this.state.decay}\r\n\t\t\t\t\t\tpropMin={10}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputField\r\n\t\t\t\t\t\tpropName={'decayPrecision'}\r\n\t\t\t\t\t\tpropLabel={'D Precision'}\r\n\t\t\t\t\t\tpropValue={this.state.decayPrecision}\r\n\t\t\t\t\t\tpropMin={0}\r\n\t\t\t\t\t\tpropMax={100}\r\n\t\t\t\t\t\tfieldChange={this.handleFormChange}\r\n\t\t\t\t\t\tformSubmit={this.handleFormSubmission}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input className='reset-button' type='submit' value='Reset' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings,\r\n\tnodes: state.nodes,\r\n\tleaves: state.leaves\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateSettings: settingsObj => dispatch({ type: 'UPDATE_SETTINGS', settings: settingsObj }),\r\n\treset: () => dispatch({ type: 'RESET' }),\r\n\tcreateRoot: () => dispatch({ type: 'CREATE_ROOT' }),\r\n\tcreateNodes: () => dispatch({ type: 'CREATE_NODES' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SettingsForm)\r\n","import React, { Component } from 'react'\r\n\r\nclass InputField extends Component {\r\n\trender() {\r\n\t\tlet { propName, propLabel, propValue, propMin, propMax, fieldChange, formSubmit } = this.props\r\n\t\treturn (\r\n\t\t\t<div className='settings-controllers'>\r\n\t\t\t\t<label className='controller-label'>{propLabel}</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue[0]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 0)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='slidersHalf'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue[0]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 0)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='slidersHalf'\r\n\t\t\t\t\ttype='range'\r\n\t\t\t\t\tid={propName + 'Slider'}\r\n\t\t\t\t\tmin={propMin}\r\n\t\t\t\t\tmax={propMax}\r\n\t\t\t\t\tvalue={propValue[1]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 1)}\r\n\t\t\t\t\tonMouseUp={e => formSubmit(e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='text-fields'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid={propName}\r\n\t\t\t\t\tvalue={propValue[1]}\r\n\t\t\t\t\tonChange={e => fieldChange(e.target.value, propName, 1)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default InputField\r\n","function totalizeAngleRange(angleArr) {\r\n\tlet totalAngleArr = angleArr.map((currentRangeArr, index) => {\r\n\t\treturn currentRangeArr[1] - currentRangeArr[0]\r\n\t})\r\n\tlet totalAngle = totalAngleArr.reduce((partial_sum, a) => partial_sum + a)\r\n\treturn totalAngle\r\n}\r\n\r\nfunction angleSpread(arrayToSpread, rangeToSpread, arrayToSpreadOver, parentAngle) {\r\n\tlet rangeToSpreadOver = totalizeAngleRange(arrayToSpreadOver)\r\n\tlet numberOfRanges = arrayToSpreadOver.length\r\n\tlet emptySpace = rangeToSpreadOver - rangeToSpread\r\n\tlet spaceBetween\r\n\r\n\tif (emptySpace < 0) {\r\n\t\temptySpace = 0\r\n\t}\r\n\tif (arrayToSpread.length === 0) {\r\n\t\tspaceBetween = 0\r\n\t} else {\r\n\t\tspaceBetween = degToRad(emptySpace / (arrayToSpread.length * 2))\r\n\t}\r\n\r\n\t// console.log(rangeToSpread, 'spread over', rangeToSpreadOver)\r\n\t// console.log(emptySpace, '/', arrayToSpread.length, '* 2 =', radToDeg(spaceBetween))\r\n\t// console.log(arrayToSpread)\r\n\r\n\tlet cummAngle = degToRad(arrayToSpreadOver[0][0])\r\n\tlet rangeNumber = 0\r\n\tlet resultArray = []\r\n\tlet initialArray = arrayToSpread\r\n\tlet initSpreadArray = []\r\n\tfor (var i = 0; i < arrayToSpreadOver.length; i++) {\r\n\t\t// console.log('begining of loop')\r\n\t\tinitSpreadArray = shiftEntireArray(initialArray, arrayToSpreadOver, i)\r\n\t\t// console.log('initSpreadArray', initSpreadArray)\r\n\t\tfor (var j = 0; j < initialArray.length; j++) {\r\n\t\t\tlet newEl = Object.assign({}, initSpreadArray[j])\r\n\t\t\t// console.log('newEl', newEl)\r\n\t\t\t// console.log('spacebetween', radToDeg(spaceBetween))\r\n\t\t\tlet tempAngle = newEl.angle + (2 * j + 1) * spaceBetween\r\n\t\t\trangeNumber = findMatchingRange(arrayToSpreadOver, radToDeg(tempAngle))\r\n\t\t\t// console.log('tempAngle', radToDeg(tempAngle), 'rangeNumber', rangeNumber)\r\n\t\t\tif (rangeNumber === -1) {\r\n\t\t\t\t// console.log('skip this element', newEl.id)\r\n\t\t\t\tbreak\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\r\n\t\t\t\t// \t'tempAngle',\r\n\t\t\t\t// \tradToDeg(tempAngle),\r\n\t\t\t\t// \t'max',\r\n\t\t\t\t// \tarrayToSpreadOver[rangeNumber][1],\r\n\t\t\t\t// \t'rangeNumber',\r\n\t\t\t\t// \trangeNumber\r\n\t\t\t\t// )\r\n\t\t\t\tnewEl.angle = tempAngle\r\n\t\t\t\t// console.log(newEl)\r\n\t\t\t\tresultArray.push(newEl)\r\n\t\t\t\tinitialArray.splice(0, j)\r\n\t\t\t\t// console.log('resultArray', resultArray)\r\n\t\t\t\t// console.log('initialArray', initialArray)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlet filteredArray = resultArray.filter(function(el) {\r\n\t\treturn el != null\r\n\t})\r\n\r\n\tlet finalPositionedArray = filteredArray.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.angle += degToRad(parentAngle)\r\n\t\treturn newEl\r\n\t})\r\n\treturn finalPositionedArray\r\n}\r\n\r\nfunction shiftEntireArray(arrayToShift, refArr, i) {\r\n\treturn arrayToShift.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.angle += degToRad(refArr[i][0])\r\n\t\t// console.log(radToDeg(el.angle), '+', refArr[i][0], '-->', radToDeg(newEl.angle))\r\n\t\treturn newEl\r\n\t})\r\n}\r\n\r\nfunction findMatchingRange(ranges, checkValue) {\r\n\tfunction checkRange(range) {\r\n\t\t// console.log('checkValue', checkValue, 'range[0]', range[0], 'range[1]', range[1])\r\n\t\treturn checkValue >= range[0] && checkValue <= range[1]\r\n\t}\r\n\treturn ranges.findIndex(checkRange)\r\n}\r\n\r\nfunction radToDeg(angle) {\r\n\treturn Math.round((angle * 180) / Math.PI)\r\n}\r\n\r\nfunction degToRad(angle) {\r\n\treturn Math.round((angle * Math.PI * 100) / 180) / 100\r\n}\r\n\r\nexport { totalizeAngleRange, angleSpread, degToRad, radToDeg }\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCaretUp, faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { totalizeAngleRange, angleSpread, degToRad, radToDeg } from '../utils/angleFunctions'\r\n\r\nclass RangeHandlebars extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\t// Initial state based on props and new parameters\r\n\t\tthis.state = {\r\n\t\t\tangleRange: this.props.settings.angleRange,\r\n\t\t\tradius: parseFloat(this.props.radius),\r\n\t\t\thandle: {\r\n\t\t\t\theight: 3\r\n\t\t\t},\r\n\t\t\thover: false,\r\n\t\t\tdragging: false,\r\n\t\t\tid: this.props.id,\r\n\t\t\tminMax: this.props.minMax\r\n\t\t}\r\n\t\t// Initialize deg and rad angles\r\n\t\t// hardcoded center based on bottom left controller + 10px padding\r\n\t\t// --- todo: make this flexible and based on position of parent getBoundingClientRect()\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tcenter: {\r\n\t\t\t\tcx: 10 + parseFloat(this.props.radius),\r\n\t\t\t\tcy: -10 + this.props.viewportDims.height - this.props.radius\r\n\t\t\t},\r\n\t\t\tangle: this.fromRangeToAngle()\r\n\t\t}\r\n\t\t// Calculate position of each handlebar\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tpos: {\r\n\t\t\t\tx: parseFloat(this.state.radius),\r\n\t\t\t\ty: parseFloat(this.state.radius)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Bind mouse event functions\r\n\t\tthis.onMouseDown = this.onMouseDown.bind(this)\r\n\t\tthis.onMouseUp = this.onMouseUp.bind(this)\r\n\t\tthis.onMouseMove = this.onMouseMove.bind(this)\r\n\t\tthis.fromRangeToAngle = this.fromRangeToAngle.bind(this)\r\n\t\tthis.fromAngleToRange = this.fromAngleToRange.bind(this)\r\n\t\tthis.updateStates = this.updateStates.bind(this)\r\n\t}\r\n\r\n\tcomponentDidUpdate(props, state) {\r\n\t\tif (this.state.dragging && !state.dragging) {\r\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove)\r\n\t\t\tdocument.addEventListener('mouseup', this.onMouseUp)\r\n\t\t} else if (!this.state.dragging && state.dragging) {\r\n\t\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\r\n\t\t\tdocument.removeEventListener('mouseup', this.onMouseUp)\r\n\t\t}\r\n\t}\r\n\r\n\tfromRangeToAngle = () => {\r\n\t\treturn {\r\n\t\t\tdeg: parseFloat(this.props.angle),\r\n\t\t\trad: degToRad(parseFloat(this.props.angle))\r\n\t\t}\r\n\t}\r\n\r\n\tfromAngleToRange = () => {\r\n\t\tlet newRanges = this.state.angleRange\r\n\t\tnewRanges[parseFloat(this.state.id[0])][parseFloat(this.state.id[1])] = this.state.angle.deg\r\n\t\tthis.setState({ angleRange: newRanges })\r\n\t}\r\n\r\n\ttoggleHover = () => {\r\n\t\tthis.setState({ hover: !this.state.hover })\r\n\t}\r\n\r\n\t// calculate relative position to the mouse and set dragging=true\r\n\tonMouseDown = e => {\r\n\t\tif (e.button !== 0) return\r\n\t\tthis.setState({\r\n\t\t\tdragging: true\r\n\t\t})\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tonMouseUp = e => {\r\n\t\tthis.setState({ dragging: false, mouseQuad: 0 })\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t\t// todo: trigger dispatch action here with settings updated with new angleRange\r\n\t}\r\n\r\n\tonMouseMove = e => {\r\n\t\tif (!this.state.dragging) return\r\n\t\tlet deltaY = e.pageY - this.state.center.cy\r\n\t\tlet deltaX = e.pageX - this.state.center.cx\r\n\t\tlet newAngleInRad = Math.atan(deltaY / deltaX)\r\n\t\tif (deltaX < 0 && deltaY < 0) {\r\n\t\t\t// Top left Quadrant\r\n\t\t\tnewAngleInRad -= Math.PI\r\n\t\t} else if (deltaX < 0 && deltaY > 0) {\r\n\t\t\t// Bottom left Quadrant\r\n\t\t\tnewAngleInRad += Math.PI\r\n\t\t}\r\n\t\tif (newAngleInRad <= this.state.minMax.min) {\r\n\t\t\tnewAngleInRad = this.state.minMax.min\r\n\t\t}\r\n\t\tif (newAngleInRad >= this.state.minMax.max) {\r\n\t\t\tnewAngleInRad = this.state.minMax.max\r\n\t\t}\r\n\t\tif (Math.abs(this.state.angle.rad - newAngleInRad) > Math.PI / 4) {\r\n\t\t\tnewAngleInRad = this.state.angle.rad\r\n\t\t}\r\n\t\tthis.updateStates(newAngleInRad)\r\n\t\te.stopPropagation()\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tupdateStates = ang => {\r\n\t\tthis.setState({\r\n\t\t\tangle: {\r\n\t\t\t\tdeg: radToDeg(ang),\r\n\t\t\t\trad: ang\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.fromAngleToRange()\r\n\t\tthis.props.handleChange(this.state.angleRange, 'angleRange', this.state.id)\r\n\t\tthis.setState({ minMax: this.props.minMax })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet componentClasses = ['handlebars']\r\n\t\tif (this.state.hover) {\r\n\t\t\tcomponentClasses += 'hover'\r\n\t\t}\r\n\t\tlet styles = {\r\n\t\t\tposition: 'absolute',\r\n\t\t\theight: `${this.state.handle.height}px`,\r\n\t\t\twidth: this.state.radius,\r\n\t\t\tleft: `${this.state.pos.x}px`,\r\n\t\t\ttop: `${this.state.pos.y}px`,\r\n\t\t\ttransform: `rotate(${this.state.angle.deg}deg)`,\r\n\t\t\ttransformOrigin: `0px`,\r\n\t\t\tborderRadius: '5px',\r\n\t\t\ttextAlign: 'end',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tpaddingRight: '5px'\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={styles}\r\n\t\t\t\tclassName={componentClasses}\r\n\t\t\t\tonMouseEnter={this.toggleHover}\r\n\t\t\t\tonMouseLeave={this.toggleHover}\r\n\t\t\t\tonMouseDown={this.onMouseDown}>\r\n\t\t\t\t<FontAwesomeIcon icon={faCaretUp} />\r\n\t\t\t\t<FontAwesomeIcon icon={faCaretDown} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings,\r\n\tviewportDims: state.viewportDims\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RangeHandlebars)\r\n","function flatten(arr, val) {\r\n\treturn arr.reduce((acc, val) => acc.concat(val), [])\r\n}\r\n\r\nfunction pluck (arr, key) {\r\n\treturn arr.map(function(item) { return item[key]; });\r\n}\r\n\r\nexport { flatten, pluck }\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PieChart from 'react-minimal-pie-chart'\r\nimport RangeHandlebars from './RangeHandlebars'\r\nimport { totalizeAngleRange, angleSpread, degToRad, radToDeg } from '../utils/angleFunctions'\r\nimport { flatten } from '../utils/arrayFunctions'\r\n\r\nclass RadialControl extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tangleRange: this.props.settings.angleRange,\r\n\t\t\tmaxAngleRanges: this.props.settings.maxAngleRanges,\r\n\t\t\tradius: this.props.radius\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\tminMax: this.calcAllMinMax(),\r\n\t\t\tpad: 10\r\n\t\t}\r\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\r\n\t\tthis.calcAllMinMax = this.calcAllMinMax.bind(this)\r\n\t\tthis.createPieData = this.createPieData.bind(this)\r\n\t}\r\n\r\n\thandleFormChange = (value, targetProp, i) => {\r\n\t\tthis.setState({ [targetProp]: value })\r\n\t\tthis.setState({ minMax: this.calcAllMinMax() })\r\n\t}\r\n\r\n\tcalcAllMinMax = () => {\r\n\t\tlet flatArr = flatten(this.state.angleRange)\r\n\t\tlet boundArr = flatten([-180, flatArr, 180])\r\n\t\tlet mmArr = boundArr.map((currentValue, currentIndex) => {\r\n\t\t\tif (currentIndex === 0 || currentIndex === boundArr.length - 1) return {}\r\n\t\t\tlet prevIndex = currentIndex - 1\r\n\t\t\tlet nextIndex = currentIndex + 1\r\n\t\t\tlet key = Math.floor((currentIndex - 1) / 2) + '' + ((currentIndex - 1) % 2)\r\n\t\t\treturn {\r\n\t\t\t\t[key]: {\r\n\t\t\t\t\tmin: degToRad(boundArr[prevIndex] + this.state.pad),\r\n\t\t\t\t\tmax: degToRad(boundArr[nextIndex] - this.state.pad)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn Object.assign({}, ...mmArr)\r\n\t}\r\n\r\n\tcreatePieData = (arr, initial) => {\r\n\t\treturn flatten(\r\n\t\tarr.map((currentRange, i, allRanges) => {\r\n\t\t\tlet nextRangeStart = 0\r\n\t\t\tif (i >= allRanges.length - 1) {\r\n\t\t\t\tnextRangeStart = initial + 360\r\n\t\t\t} else {\r\n\t\t\t\tnextRangeStart = allRanges[i + 1][0]\r\n\t\t\t}\r\n\t\t\tlet sectionData = {\r\n\t\t\t\ttitle: `${i}`,\r\n\t\t\t\tvalue: (parseFloat(currentRange[1]) % 360) - (parseFloat(currentRange[0]) % 360),\r\n\t\t\t\tcolor: `rgba(210, 77, 87, 0.7)`\r\n\t\t\t}\r\n\t\t\tlet emptyValue = nextRangeStart - (parseFloat(currentRange[1]) % 360)\r\n\t\t\tlet emptySectionData = {\r\n\t\t\t\ttitle: `blank${i}`,\r\n\t\t\t\tvalue: emptyValue,\r\n\t\t\t\tcolor: emptyValue <= this.state.pad ? `rgba(255,255,255,0.8)` : `rgba(0,0,0,0.2)`,\r\n\t\t\t}\r\n\t\t\treturn [sectionData, emptySectionData]\r\n\t\t})\r\n\t)}\r\n\r\n\trender() {\r\n\t\tlet angleRanges = this.state.angleRange\r\n\t\tlet initAngle = Math.min(...angleRanges[0])\r\n\t\tlet controllerRadius = this.state.radius\r\n\t\treturn (\r\n\t\t\t<div className='radial-controller'>\r\n\t\t\t\t{angleRanges.map((currentRange, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='rangeHandlebars' key={i}>\r\n\t\t\t\t\t\t\t<RangeHandlebars\r\n\t\t\t\t\t\t\t\tradius={controllerRadius}\r\n\t\t\t\t\t\t\t\tangle={parseFloat(currentRange[0]) % 360}\r\n\t\t\t\t\t\t\t\tminMax={this.state.minMax[i + '0']}\r\n\t\t\t\t\t\t\t\tid={i + '0'}\r\n\t\t\t\t\t\t\t\thandleChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<RangeHandlebars\r\n\t\t\t\t\t\t\t\tradius={controllerRadius}\r\n\t\t\t\t\t\t\t\tangle={parseFloat(currentRange[1]) % 360}\r\n\t\t\t\t\t\t\t\tminMax={this.state.minMax[i + '1']}\r\n\t\t\t\t\t\t\t\tid={i + '1'}\r\n\t\t\t\t\t\t\t\thandleChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t\t<PieChart\r\n\t\t\t\t\tdata={this.createPieData(angleRanges, initAngle)}\r\n\t\t\t\t\tstyle={{ width: `${controllerRadius * 2}px`}}\r\n\t\t\t\t\tsegmentsStyle={{ transition: 'stroke .3s' }}\r\n\t\t\t\t\tstartAngle={parseFloat(angleRanges[0][0]) % 360}\r\n\t\t\t\t\ttotalValue={360}\r\n\t\t\t\t\tlineWidth={42}\r\n\t\t\t\t\tradius={42}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsettings: state.settings\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateSettings: settingsObj => dispatch({ type: 'UPDATE_SETTINGS', settings: settingsObj }),\r\n\treset: () => dispatch({ type: 'RESET' })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(RadialControl)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport '../styles/App.css'\r\nimport Canvas from './Canvas'\r\nimport ShapeContainer from '../containers/ShapeContainer'\r\nimport SettingsForm from './SettingsForm'\r\nimport RadialControl from './RadialControl'\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = this.props.viewportDims\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this)\r\n\t\tconsole.log('viewport',this.state)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions()\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight })\r\n\t\tthis.props.updateViewport(this.state)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='App'>\r\n\t\t\t\t<header className='App-header'>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{/* <ShapeContainer /> */}\r\n\t\t\t\t\t\t{/* <Canvas /> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<RadialControl radius={150}/>\r\n\t\t\t\t\t{/* <SettingsForm /> */}\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tviewportDims: state.viewportDims\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tupdateViewport: viewportObj => dispatch({ type: 'UPDATE_VIEWPORT', viewportDims: viewportObj })\r\n})\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(App)\r\n","function randomSpread(originalValue, percentOfOriginal, precision, spread, direction) {\r\n\t// percentOfOriginal= % of originalValue\r\n\t// precision= 0%:least precise, 100%:most precise\r\n\t// originalValue: starting value\r\n\t// spread= range as % of originalValue to randomize around\r\n\t// direction= 2: centered around percentOfOriginal. 1:Positive bias. -1:negative bias\r\n\tlet range = originalValue * (percentOfOriginal / 100) * (spread / 100)\r\n\tlet randomizer = 0\r\n\r\n\tif (direction === 2) {\r\n\t\trandomizer = Math.random() - Math.random()\r\n\t} else if (direction === 1 || direction === -1) {\r\n\t\trandomizer = direction * Math.abs(Math.random() - Math.random())\r\n\t} else {\r\n\t\tdirection = -1\r\n\t}\r\n\treturn (percentOfOriginal / 100) * originalValue + (randomizer * range * (100 - precision)) / 100\r\n}\r\n\r\nexport default randomSpread\r\n","import { totalizeAngleRange, angleSpread, degToRad, radToDeg } from '../utils/angleFunctions'\r\nimport { flatten } from '../utils/arrayFunctions'\r\nimport randomSpread from './randomSpread'\r\n\r\n// ~~~~~~~~~~~ CREATE FRAGMENTED ARRAY ~~~~~~~~~~~~~~~//\r\nfunction createFragmentedArray(parentsArr, settings) {\r\n\tvar allChildrenArray = parentsArr.map((currentParent, index) => {\r\n\t\treturn distributeParentValue(currentParent, settings)\r\n\t})\r\n\tallChildrenArray = flatten(allChildrenArray)\r\n\treturn allChildrenArray\r\n}\r\n\r\n// ~~~~~~~~~~~~~~ DISTRIBUTE VALUE ~~~~~~~~~~~~~~~~~~~//\r\nfunction distributeParentValue(parent, settings) {\r\n\tlet mySize = 0\r\n\tlet myAngle = 0\r\n\tlet myDistance = parent.radius + 10 // Adjust this to move children off of circumferance\r\n\tlet currentChildrenArray = []\r\n\tlet siblingCounter = 0\r\n\r\n\tlet minAngle = Math.atan(settings.minSize / myDistance)\r\n\tlet remainder = randomSpread(parent.radius, settings.multiplier, settings.multiplierPrecision, 50, 2)\r\n\r\n\tif (parent.radius <= settings.minSize || parent.id.length === 40) {\r\n\t\treturn currentChildrenArray\r\n\t} else {\r\n\t\twhile (remainder >= settings.minSize) {\r\n\t\t\tmySize = randomSpread(remainder * Math.random(), settings.decay, settings.decayPrecision, 100, 2)\r\n\t\t\t// mySize = Math.trunc(remainder * Math.random() * 1000) / 1000\r\n\t\t\tlet tempAngle = Math.atan(mySize / myDistance)\r\n\t\t\tremainder -= mySize\r\n\t\t\tif (mySize >= settings.minSize) {\r\n\t\t\t\t// retotalizer += mySize\r\n\t\t\t\tmyAngle += tempAngle // Find my center\r\n\t\t\t\tcurrentChildrenArray.push({\r\n\t\t\t\t\tid: parent.id + '' + siblingCounter,\r\n\t\t\t\t\tradius: mySize,\r\n\t\t\t\t\tdistance: myDistance,\r\n\t\t\t\t\tcoordX: parent.coordX,\r\n\t\t\t\t\tcoordY: parent.coordY,\r\n\t\t\t\t\tangle: myAngle\r\n\t\t\t\t})\r\n\t\t\t\tsiblingCounter += 1\r\n\t\t\t\tmyAngle += tempAngle // Setup for next center\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Spread Angle of children over angle range\r\n\tlet distributedChildrenArray = angleSpread(\r\n\t\tcurrentChildrenArray,\r\n\t\tMath.abs(radToDeg(myAngle)),\r\n\t\tsettings.angleRange,\r\n\t\tradToDeg(parent.angle) % 360\r\n\t)\r\n\r\n\tlet positionedChildrenArray = distributedChildrenArray.map((el, index) => {\r\n\t\tlet newEl = Object.assign({}, el)\r\n\t\tnewEl.coordX = newEl.coordX + newEl.distance * Math.cos(newEl.angle)\r\n\t\tnewEl.coordY = newEl.coordY + newEl.distance * Math.sin(newEl.angle)\r\n\t\treturn newEl\r\n\t})\r\n\r\n\treturn positionedChildrenArray\r\n}\r\n\r\nexport default createFragmentedArray\r\n","import createFragmentedArray from '../utils/fragment'\r\nimport { calcNewZoom } from '../utils/stageSetup'\r\n\r\n// This reducer references/holds the main store\r\n// It modifies the main state of the app\r\n\r\nconst initialState = {\r\n\tviewportDims: { width: window.innerWidth, height: window.innerHeight },\r\n\tstage: { x: { min: 0, max: window.innerWidth }, y: { min: 0, max: window.innerHeight }, zoom: 1 },\r\n\tsettings: {\r\n\t\tangleRange: [[-100, -70], [-45, 45], [70, 100]], // Range: -180 to 180\r\n\t\tmaxAngleRanges: 4,\r\n\t\tminSize: 1,\r\n\t\tmultiplier: 130,\r\n\t\tmultiplierPrecision: 90, // Higher Levels, precision -> 100%\r\n\t\tdecay: 80,\r\n\t\tdecayPrecision: 40 // Higher Levels, precision -> 100%\r\n\t},\r\n\tnodes: [],\r\n\tleaves: []\r\n}\r\n\r\nconst shapeReducer = (state = initialState, action) => {\r\n\tvar newNodes = state.nodes.slice()\r\n\tvar newLeaves = state.leaves.slice()\r\n\tvar newSettings = { ...state.settings }\r\n\tvar newViewportDims = { ...state.viewportDims }\r\n\tvar newStage = state.stage\r\n\t// console.log('newStage', newStage)\r\n\tswitch (action.type) {\r\n\t\tcase 'RESET':\r\n\t\t\tvar defaultStage = { x: { min: 0, max: window.innerWidth }, y: { min: 0, max: window.innerHeight }, zoom: 1 }\r\n\t\t\treturn { ...state, nodes: [], leaves: [] ,stage:defaultStage}\r\n\t\tcase 'CREATE_ROOT':\r\n\t\t\tnewNodes = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tradius: 200,\r\n\t\t\t\t\tcoordX: state.viewportDims.width / 2,\r\n\t\t\t\t\tcoordY: state.viewportDims.height / 2,\r\n\t\t\t\t\tangle: 0\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tnewLeaves = newNodes\r\n\t\t\treturn { ...state, nodes: newNodes, leaves: newLeaves }\r\n\t\tcase 'CREATE_NODES':\r\n\t\t\t// console.log(state.nodes.length)\r\n\t\t\tnewLeaves = createFragmentedArray(newLeaves, newSettings)\r\n\t\t\tnewStage = calcNewZoom(newLeaves, state.stage, state.viewportDims)\r\n\t\t\t// console.log('newStage', newStage)\r\n\t\t\tnewNodes = newNodes.concat(newLeaves)\r\n\t\t\treturn { ...state, nodes: newNodes, leaves: newLeaves, stage: newStage }\r\n\t\tcase 'UPDATE_SETTINGS':\r\n\t\t\tnewSettings = action.settings\r\n\t\t\t// console.log(newSettings)\r\n\t\t\treturn { ...state, settings: newSettings }\r\n\t\tcase 'UPDATE_VIEWPORT':\r\n\t\t\tnewViewportDims = action.viewportDims\r\n\t\t\treturn { ...state, viewportDims: newViewportDims }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default shapeReducer\r\n","import { pluck } from '../utils/arrayFunctions'\r\n\r\nfunction calcNewZoom(leaves, stage, viewport) {\r\n\tlet allX = pluck(leaves, 'coordX')\r\n\tlet allY = pluck(leaves, 'coordY')\r\n\r\n\tlet maxX = Math.max(...allX, stage.x.max)\r\n\tlet minX = Math.min(...allX, stage.x.min)\r\n\tlet maxY = Math.max(...allY, stage.y.max)\r\n\tlet minY = Math.min(...allY, stage.y.min)\r\n\r\n\tlet deltaX = Math.max(Math.abs(minX), maxX - stage.x.max)\r\n\tlet deltaY = Math.max(Math.abs(minY), maxY - stage.y.max)\r\n\r\n\tlet newStage = {\r\n\t\tx: {\r\n\t\t\tmin: -deltaX,\r\n\t\t\tmax: stage.x.max + deltaX\r\n\t\t},\r\n\t\ty: {\r\n\t\t\tmin: -deltaY,\r\n\t\t\tmax: stage.y.max + deltaY\r\n\t\t},\r\n\t\tzoom: Math.trunc(10000* 0.9 / Math.max(1 + (2 * deltaX) / viewport.width, 1 + (2 * deltaY) / viewport.height))/10000\r\n\t}\r\n\r\n\treturn newStage\r\n}\r\n\r\nexport { calcNewZoom }\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './styles/index.css'\r\nimport App from './components/App'\r\nimport shapeReducer from './reducers/shapeReducer'\r\n\r\nimport { createStore } from 'redux'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst store = createStore(shapeReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\n// store.subscribe(() => {\r\n//     if (store.getState().leaves.length > 0){\r\n//         console.log(store.getState().leaves)\r\n//         store.dispatch({ type: 'CREATE_NODES' })\r\n//     }\r\n// })\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n)\r\n"],"sourceRoot":""}